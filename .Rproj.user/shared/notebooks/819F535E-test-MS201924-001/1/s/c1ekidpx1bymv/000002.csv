"1","<!-- KNITR_ASIS_OUTPUT_TOKEN -->
<!-- rnb-source-begin eyJkYXRhIjoiYGBgclxuIyB0ZW1wIDwtIG5jYSAlPiUgXG4jICAgZmlsdGVyKFBQVEVTVENEICVpbiUgYyhcImNtYXhcIiwgXCJhdWNpbmYub2JzXCIsIFwiaGFsZi5saWZlXCIpKSAlPiUgXG4jICAgZ3JvdXBfYnkoRE9TRSwgUFBURVNUQ0QsIFJJQ0hfTikgJT4lIFxuIyAgIHN1bW1hcml6ZShtZWFuPW1lYW4oUFBPUlJFUywgbmEucm09VCksIHNkPXNkKFBQT1JSRVMsIG5hLnJtPVQpLCAuZ3JvdXBzPVwiZHJvcFwiKSAlPiUgXG4jICAgbXV0YXRlKGN2PXNkL21lYW4qMTAwKSAlPiUgXG4jICAgbXV0YXRlKHZhbHVlPXBhc3RlMChhcy5jaGFyYWN0ZXIoZm9ybWF0KHJvdW5kKG1lYW4sIDMpLCBuc21hbGw9MikpLCBcIiAoXCIsIGFzLmNoYXJhY3Rlcihyb3VuZChjdiwgMSkpLCBcIiUpXCIpKVxuIyBcbiMgdGVtcCAlPiUgXG4jICAgZmlsdGVyKFJJQ0hfTj09MSkgJT4lIFxuIyAgIHNlbGVjdChET1NFLCBQUFRFU1RDRCwgdmFsdWUpICU+JSBcbiMgICBwaXZvdF93aWRlcihuYW1lc19mcm9tID0gXCJQUFRFU1RDRFwiLCB2YWx1ZXNfZnJvbSA9IFwidmFsdWVcIikgJT4lIFxuIyAgIGthYmxlKGNhcHRpb249XCJOaXJhcGFyaWIgU0QgUEsgcGFyYW1ldGVyIHN1bW1hcnkgKFBhcnQgQjEpXCIsXG4jICAgICAgICAgY29sLm5hbWVzID0gYyhcImRvc2UgKG1nKVwiLCBcIiRBVUN7aW5mfSQgKGgqdWcvbWwpXCIsIFwiJENfe21heH0kICh1Zy9tbClcIixcbiMgICAgICAgICAgICAgICAgICAgICAgIFwiJHRfezEvMn0kIChoKVwiKSwgYWxpZ249cmVwKCdsJywgNCkpXG4jIFxuIyB0ZW1wICU+JSBcbiMgICBmaWx0ZXIoUklDSF9OPT0yKSAlPiUgXG4jICAgc2VsZWN0KERPU0UsIFBQVEVTVENELCB2YWx1ZSkgJT4lIFxuIyAgIHBpdm90X3dpZGVyKG5hbWVzX2Zyb20gPSBcIlBQVEVTVENEXCIsIHZhbHVlc19mcm9tID0gXCJ2YWx1ZVwiKSAlPiUgXG4jICAga2FibGUoY2FwdGlvbj1cIk5pcmFwYXJpYiBNRCBQSyBwYXJhbWV0ZXIgc3VtbWFyeSAoUGFydCBCMSlcIixcbiMgICAgICAgICBjb2wubmFtZXMgPSBjKFwiZG9zZSAobWcpXCIsIFwiJEFVQ3tpbmZ9JCAoaCp1Zy9tbClcIiwgXCIkQ197bWF4fSQgKHVnL21sKVwiLFxuIyAgICAgICAgICAgICAgICAgICAgICAgXCIkdF97MS8yfSQgKGgpXCIpLFxuIyAgICAgICAgIGFsaWduPXJlcCgnbCcsIDQpKVxuXG5cbiMgbmNhICU+JSBcbiMgICBmaWx0ZXIoUFBURVNUQ0QgJWluJSBjKFwiYXVjbGFzdFwiLCBcImNtYXhcIikpICU+JVxuIyAgIGdncGxvdChhZXMoeD1ET1NFLCB5PVBQT1JSRVMpKSArXG4jICAgZ2VvbV9wb2ludChzaXplPTIsIGFscGhhPS40KSArXG4jICAgZ2VvbV9zbW9vdGgobWV0aG9kPVwibG1cIikgK1xuIyAgIGZhY2V0X2dyaWQoUFBURVNUQ0R+UklDSF9OLCBzY2FsZXM9XCJmcmVlXCIpICtcbiMgICBleHBhbmRfbGltaXRzKHg9MCwgeT0wKSArXG4jICAgdGhlbWVfYncoKSArXG4jICAgZ2d0aXRsZShcIlBhcnQgQjE6IE5pcmFwYXJpYiBkb3NlIGxpbmVhcml0eVwiKSArXG4jICAgbGFicyhjYXB0aW9uPVwiMTogU0QsIDI6IE1EXCIpXG4jIFxuIyBuY2EgJT4lIFxuIyAgIGZpbHRlcihSSUNIX049PTEpICU+JSBcbiMgICBkb3NlX2xpbigpICU+JSBcbiMgICBrYWJsZShjYXB0aW9uPVwiUGFydCBCMTogTmlyYXBhcmliIGRvc2UgbGluZWFyaXR5IChTRClcIiwgZGlnaXRzPTMpXG4jIFxuIyBuY2EgJT4lIFxuIyAgIGZpbHRlcihSSUNIX049PTIpICU+JSBcbiMgICBkb3NlX2xpbigpICU+JSBcbiMgICBrYWJsZShjYXB0aW9uPVwiUGFydCBCMTogTmlyYXBhcmliIGRvc2UgbGluZWFyaXR5IChNRClcIiwgZGlnaXRzPTMpXG5cbmludmlzaWJsZShjYXB0dXJlLm91dHB1dChcbiAgbmNhX3Bvd2VyX21vZGVsKG5jYSlcbikpXG5gYGAifQ== -->

```r
# temp <- nca %>% 
#   filter(PPTESTCD %in% c(\"cmax\", \"aucinf.obs\", \"half.life\")) %>% 
#   group_by(DOSE, PPTESTCD, RICH_N) %>% 
#   summarize(mean=mean(PPORRES, na.rm=T), sd=sd(PPORRES, na.rm=T), .groups=\"drop\") %>% 
#   mutate(cv=sd/mean*100) %>% 
#   mutate(value=paste0(as.character(format(round(mean, 3), nsmall=2)), \" (\", as.character(round(cv, 1)), \"%)\"))
# 
# temp %>% 
#   filter(RICH_N==1) %>% 
#   select(DOSE, PPTESTCD, value) %>% 
#   pivot_wider(names_from = \"PPTESTCD\", values_from = \"value\") %>% 
#   kable(caption=\"Niraparib SD PK parameter summary (Part B1)\",
#         col.names = c(\"dose (mg)\", \"$AUC{inf}$ (h*ug/ml)\", \"$C_{max}$ (ug/ml)\",
#                       \"$t_{1/2}$ (h)\"), align=rep('l', 4))
# 
# temp %>% 
#   filter(RICH_N==2) %>% 
#   select(DOSE, PPTESTCD, value) %>% 
#   pivot_wider(names_from = \"PPTESTCD\", values_from = \"value\") %>% 
#   kable(caption=\"Niraparib MD PK parameter summary (Part B1)\",
#         col.names = c(\"dose (mg)\", \"$AUC{inf}$ (h*ug/ml)\", \"$C_{max}$ (ug/ml)\",
#                       \"$t_{1/2}$ (h)\"),
#         align=rep('l', 4))


# nca %>% 
#   filter(PPTESTCD %in% c(\"auclast\", \"cmax\")) %>%
#   ggplot(aes(x=DOSE, y=PPORRES)) +
#   geom_point(size=2, alpha=.4) +
#   geom_smooth(method=\"lm\") +
#   facet_grid(PPTESTCD~RICH_N, scales=\"free\") +
#   expand_limits(x=0, y=0) +
#   theme_bw() +
#   ggtitle(\"Part B1: Niraparib dose linearity\") +
#   labs(caption=\"1: SD, 2: MD\")
# 
# nca %>% 
#   filter(RICH_N==1) %>% 
#   dose_lin() %>% 
#   kable(caption=\"Part B1: Niraparib dose linearity (SD)\", digits=3)
# 
# nca %>% 
#   filter(RICH_N==2) %>% 
#   dose_lin() %>% 
#   kable(caption=\"Part B1: Niraparib dose linearity (MD)\", digits=3)

invisible(capture.output(
  nca_power_model(nca)
))
```

<!-- rnb-source-end -->
<!-- KNITR_ASIS_OUTPUT_TOKEN -->"
"0","```r
# temp <- nca %>% 
#   filter(PPTESTCD %in% c(\"cmax\", \"aucinf.obs\", \"half.life\")) %>% 
#   group_by(DOSE, PPTESTCD, RICH_N) %>% 
#   summarize(mean=mean(PPORRES, na.rm=T), sd=sd(PPORRES, na.rm=T), .groups=\"drop\") %>% 
#   mutate(cv=sd/mean*100) %>% 
#   mutate(value=paste0(as.character(format(round(mean, 3), nsmall=2)), \" (\", as.character(round(cv, 1)), \"%)\"))
# 
# temp %>% 
#   filter(RICH_N==1) %>% 
#   select(DOSE, PPTESTCD, value) %>% 
#   pivot_wider(names_from = \"PPTESTCD\", values_from = \"value\") %>% 
#   kable(caption=\"Niraparib SD PK parameter summary (Part B1)\",
#         col.names = c(\"dose (mg)\", \"$AUC{inf}$ (h*ug/ml)\", \"$C_{max}$ (ug/ml)\",
#                       \"$t_{1/2}$ (h)\"), align=rep('l', 4))
# 
# temp %>% 
#   filter(RICH_N==2) %>% 
#   select(DOSE, PPTESTCD, value) %>% 
#   pivot_wider(names_from = \"PPTESTCD\", values_from = \"value\") %>% 
#   kable(caption=\"Niraparib MD PK parameter summary (Part B1)\",
#         col.names = c(\"dose (mg)\", \"$AUC{inf}$ (h*ug/ml)\", \"$C_{max}$ (ug/ml)\",
#                       \"$t_{1/2}$ (h)\"),
#         align=rep('l', 4))


# nca %>% 
#   filter(PPTESTCD %in% c(\"auclast\", \"cmax\")) %>%
#   ggplot(aes(x=DOSE, y=PPORRES)) +
#   geom_point(size=2, alpha=.4) +
#   geom_smooth(method=\"lm\") +
#   facet_grid(PPTESTCD~RICH_N, scales=\"free\") +
#   expand_limits(x=0, y=0) +
#   theme_bw() +
#   ggtitle(\"Part B1: Niraparib dose linearity\") +
#   labs(caption=\"1: SD, 2: MD\")
# 
# nca %>% 
#   filter(RICH_N==1) %>% 
#   dose_lin() %>% 
#   kable(caption=\"Part B1: Niraparib dose linearity (SD)\", digits=3)
# 
# nca %>% 
#   filter(RICH_N==2) %>% 
#   dose_lin() %>% 
#   kable(caption=\"Part B1: Niraparib dose linearity (MD)\", digits=3)

invisible(capture.output(
  nca_power_model(nca)
))
```"
